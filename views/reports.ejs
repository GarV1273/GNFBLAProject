<!DOCTYPE html>
<html lang="en">

<%- include('./partials/head'); %>

  <body>

    <%- include('./partials/header'); %>

      <%- include('./partials/sidebar'); %>

        <main id="main" class="main">

          <div class="pagetitle">
            <h1>Reports</h1>
            <nav>
              <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                <li class="breadcrumb-item active">Reports</li>
              </ol>
            </nav>
          </div><!-- End Page Title -->

          <form class="row g-3" action="/FBLA/reports" method="POST">
            <div class="col-12">
              <label for="gradeFilter" class="form-label">Filter by grade</label>
              <div class="col-sm-10">
                <select class="form-select" aria-label="Event selection" id="grade" name="grade"
                  required>
                  <option selected>(Select Grade)</option>
                  <% for (let i=0; i < grades.length; i++) { %>
                    <option value="<%= grades[i] %>">
                      Grade <%= grades[i] %>
                    </option>
                    <% } %>
                </select>
              </div>
            </div>
            <div>
              <button type="submit" class="btn btn-primary">Submit</button>
            </div>

          </form>

          <br><br>

          <div class="row">
            <div class="col-12">
              <div class="row">
                <h3 class="text-center">Students</h3>
              </div>
              <table class="table table-stripped table-bordered datatable">
                <thead>
                  <tr>
                    <th scope="col">Student Name</th>
                    <th scope="col">Points</th>
                    <th scope="col">Grade</th>
                  </tr>
                </thead>
                <tbody>
                  <% for (let i=0; i < displayedStudents.length; i++) { %>
                    <tr>
                      <th scope="row">
                        <%= displayedStudents[i].firstName + " " + displayedStudents[i].lastName %>
                      </th>
                      <td>
                        <%= displayedStudents[i].points %>
                      </td>
                      <td>
                        <%= displayedStudents[i].grade %>
                      </td>
                    </tr>
                    <% } %>
                </tbody>
              </table>
            </div>
          </div>

        </main><!-- End #main -->

        <%- include('./partials/footer'); %>

  </body>

</html>